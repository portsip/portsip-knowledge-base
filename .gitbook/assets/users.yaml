post:
  tags:
    - User
  operationId: createUser
  summary: Create a user
  description: |
    Create a new user.
  requestBody:
    content:
      application/json:
        schema:
          type: object
          properties:
            name:
              $ref: "../components/schemas/user.yaml#/username"
            password:
              $ref: "../components/schemas/user.yaml#/password"
            email:
              $ref: "../components/schemas/user.yaml#/email"
            display_name:
              $ref: "../components/schemas/user.yaml#/display_name"
            enabled:
              $ref: "../components/schemas/extension.yaml#/enabled"
            role:
              $ref: "../components/schemas/role.yaml#/name"
            mobile_phone:
              $ref: "../components/schemas/user.yaml#/mobile_phone"
            work_phone:
              $ref: "../components/schemas/user.yaml#/work_phone"
            home_phone:
              $ref: "../components/schemas/user.yaml#/home_phone"
            address:
              $ref: "../components/schemas/common.yaml#/address"
            department:
              $ref: "../components/schemas/user.yaml#/department"
            extension_number:
              $ref: "../components/schemas/common.yaml#/extension_number"
            extension_password:
              $ref: "../components/schemas/common.yaml#/extension_password"
            enable_audio_recording:
              $ref: "../components/schemas/extension.yaml#/enable_audio_recording"
            enable_video_recording:
              $ref: "../components/schemas/extension.yaml#/enable_video_recording"
            enable_dnd:
              $ref: "../components/schemas/extension.yaml#/enable_dnd"
            enable_acb:
              $ref: "../components/schemas/extension.yaml#/enable_acb"
            enable_hot_desking:
              $ref: "../components/schemas/extension.yaml#/enable_hot_desking"
            anonymous_outbound_calls:
              $ref: "../components/schemas/extension.yaml#/anonymous_outbound_calls"
            sms:
              $ref: "../components/schemas/extension.yaml#/sms"
            delivery_outbound_cid:
              $ref: "../components/schemas/extension.yaml#/delivery_outbound_cid"
            outbound_caller_ids:
              $ref: "../components/schemas/provider.yaml#/outbound_caller_ids"
            custom_options:
              $ref: "../components/schemas/common.yaml#/custom_options"
            office_hours:
              $ref: "../components/schemas/common.yaml#/office_hours_with_mode"
            available_office_hours_forward_rule:
              $ref: "../components/schemas/extension.yaml#/available_office_hours_forward_rule"
            available_non_office_hours_forward_rule:
              $ref: "../components/schemas/extension.yaml#/available_non_office_hours_forward_rule"
            available_no_answer_forward_rule:
              $ref: "../components/schemas/extension.yaml#/available_no_answer_forward_rule"
            busy_office_hours_forward_rule:
              $ref: "../components/schemas/extension.yaml#/busy_office_hours_forward_rule"
            busy_non_office_hours_forward_rule:
              $ref: "../components/schemas/extension.yaml#/busy_non_office_hours_forward_rule"
            busy_no_answer_forward_rule:
              $ref: "../components/schemas/extension.yaml#/busy_no_answer_forward_rule"
            dnd_office_hours_forward_rule:
              $ref: "../components/schemas/extension.yaml#/dnd_office_hours_forward_rule"
            dnd_non_office_hours_forward_rule:
              $ref: "../components/schemas/extension.yaml#/dnd_non_office_hours_forward_rule"
            away_office_hours_forward_rule:
              $ref: "../components/schemas/extension.yaml#/away_office_hours_forward_rule"
            away_non_office_hours_forward_rule:
              $ref: "../components/schemas/extension.yaml#/away_non_office_hours_forward_rule"
            lunch_office_hours_forward_rule:
              $ref: "../components/schemas/extension.yaml#/lunch_office_hours_forward_rule"
            lunch_non_office_hours_forward_rule:
              $ref: "../components/schemas/extension.yaml#/lunch_non_office_hours_forward_rule"
            trip_office_hours_forward_rule:
              $ref: "../components/schemas/extension.yaml#/trip_office_hours_forward_rule"
            trip_non_office_hours_forward_rule:
              $ref: "../components/schemas/extension.yaml#/trip_non_office_hours_forward_rule"
            offline_office_hours_forward_rule:
              $ref: "../components/schemas/extension.yaml#/offline_office_hours_forward_rule"
            offline_non_office_hours_forward_rule:
              $ref: "../components/schemas/extension.yaml#/offline_non_office_hours_forward_rule"
            custom_forward_rules:
              $ref: "../components/schemas/extension.yaml#/custom_forward_rules"
            voicemail_prompt:
              $ref: "../components/schemas/extension.yaml#/voicemail_prompt"
            enable_voicemail_pin:
              $ref: "../components/schemas/extension.yaml#/enable_voicemail_pin"
            voicemail_pin:
              $ref: "../components/schemas/common.yaml#/pin"
            enable_voicemail_notify:
              $ref: "../components/schemas/extension.yaml#/enable_voicemail_notify"
            voicemail_play_datetime:
              $ref: "../components/schemas/extension.yaml#/voicemail_play_datetime"
            interface:
              $ref: "../components/schemas/system.yaml#/interface"
            preferred_transport:
              $ref: "../components/schemas/transport.yaml#/protocol"
            blfs:
              type: array
              items:
                $ref: "../components/schemas/extension.yaml#/blf"
              description: |
                A collection of BLFs.
          required:
            - name
            - display_name
            - password
            - email
            - role
            - extension_number
            - extension_password
            - voicemail_pin
    required: true
  responses:
    "201":
      description: Created
      content:
        application/json:
          schema:
            type: object
            properties:
              id:
                $ref: "../components/schemas/extension.yaml#/id"
    "4XX":
      description: Error
get:
  tags:
    - User
  operationId: listUsers
  summary: List users
  description: List a collection of users.
  parameters:
    - $ref: "../components/parameters/common.yaml#/filter"
    - $ref: "../components/parameters/common.yaml#/search"
    - $ref: "../components/parameters/common.yaml#/orderby"
    - $ref: "../components/parameters/common.yaml#/skip"
    - $ref: "../components/parameters/common.yaml#/top"
  responses:
    "200":
      description: OK
      content:
        application/json:
          schema:
            type: object
            properties:
              count:
                $ref: "../components/schemas/common.yaml#/count"
              items:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      $ref: "../components/schemas/extension.yaml#/id"
                    name:
                      $ref: "../components/schemas/user.yaml#/username"
                    enabled:
                      $ref: "../components/schemas/extension.yaml#/enabled"
                    email:
                      $ref: "../components/schemas/user.yaml#/email"
                    display_name:
                      $ref: "../components/schemas/user.yaml#/display_name"
                    role:
                      $ref: "../components/schemas/role.yaml#/name"
                    mobile_phone:
                      $ref: "../components/schemas/user.yaml#/mobile_phone"
                    work_phone:
                      $ref: "../components/schemas/user.yaml#/work_phone"
                    home_phone:
                      $ref: "../components/schemas/user.yaml#/home_phone"
                    address:
                      $ref: "../components/schemas/common.yaml#/address"
                    department:
                      $ref: "../components/schemas/user.yaml#/department"
                    extension_number:
                      $ref: "../components/schemas/common.yaml#/extension_number"
                    created_at:
                      $ref: "../components/schemas/extension.yaml#/created_at"
                    avatar_file_name:
                      $ref: "../components/schemas/file.yaml#/name"
                    avatar_file_size:
                      $ref: "../components/schemas/file.yaml#/size"
                    avatar_file_url:
                      $ref: "../components/schemas/file.yaml#/url"
                    sync_type:
                      $ref: "../components/schemas/integration.yaml#/sync_type"
    "4XX":
      description: Error
