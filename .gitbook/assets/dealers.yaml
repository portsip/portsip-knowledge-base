post:
  tags:
    - Administration
  operationId: createDealer
  summary: Create a dealer
  description: |
    Create a dealer.
  requestBody:
    content:
      application/json:
        schema:
          type: object
          properties:
            enabled:
              $ref: "../components/schemas/dealer.yaml#/enabled"
            level:
              $ref: "../components/schemas/dealer.yaml#/level"
            name:
              $ref: "../components/schemas/user.yaml#/username"
            password:
              $ref: "../components/schemas/dealer.yaml#/password"
            email:
              $ref: "../components/schemas/user.yaml#/email"
            display_name:
              $ref: "../components/schemas/user.yaml#/display_name"
            website:
              $ref: "../components/schemas/user.yaml#/website"
            phone:
              $ref: "../components/schemas/user.yaml#/mobile_phone"
            address:
              $ref: "../components/schemas/common.yaml#/address"
            description:
              $ref: "../components/schemas/dealer.yaml#/description"
            max_tenants:
              $ref: "../components/schemas/dealer.yaml#/max_tenants"
            max_extensions:
              $ref: "../components/schemas/dealer.yaml#/max_extensions"
          required:
            - name
            - level
            - password
            - max_tenants
            - max_extensions
    required: true
  responses:
    "201":
      description: Success
      content:
        application/json:
          schema:
            type: object
            properties:
              id:
                $ref: "../components/schemas/dealer.yaml#/id"
    "4XX":
      description: Error
get:
  tags:
    - Administration
  operationId: listDealers
  summary: List dealers
  description: |
    List a collection of dealers.
  responses:
    "200":
      description: OK
      content:
        application/json:
          schema:
            type: object
            properties:
              count:
                $ref: "../components/schemas/common.yaml#/count"
              items:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      $ref: "../components/schemas/dealer.yaml#/id"
                    enabled:
                      $ref: "../components/schemas/dealer.yaml#/enabled"
                    level:
                      $ref: "../components/schemas/dealer.yaml#/level"
                    name:
                      $ref: "../components/schemas/user.yaml#/username"
                    email:
                      $ref: "../components/schemas/user.yaml#/email"
                    display_name:
                      $ref: "../components/schemas/user.yaml#/display_name"
                    website:
                      $ref: "../components/schemas/user.yaml#/website"
                    phone:
                      $ref: "../components/schemas/user.yaml#/mobile_phone"
                    address:
                      $ref: "../components/schemas/common.yaml#/address"
                    description:
                      $ref: "../components/schemas/dealer.yaml#/description"
                    max_tenants:
                      $ref: "../components/schemas/dealer.yaml#/max_tenants"
                    max_extensions:
                      $ref: "../components/schemas/dealer.yaml#/max_extensions"
    "4XX":
      description: Error
