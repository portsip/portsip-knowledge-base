id:
  allOf:
    - $ref: "../../components/schemas/common.yaml#/id"
  description: |
    The unique ID of ring group.
name:
  type: string
  minLength: 1
  maxLength: 64
  description: |
    The name of ring group.
ring_time:
  type: integer
  format: int32
  minimum: 0
  default: 20
  description: |
    Duration that each extension will ring, in seconds.
ring_strategy:
  type: string
  enum:
    - RING_SIMULTANEOUSLY
    - PRIORITIZED_HUNT
    - CYCLIC_HUNT
    - LEAST_WORKED_HUNT
    - PAGING_INTERCOM
    - SKILL_BASED_ROUTING_PRIORITIZED_HUNT
    - SKILL_BASED_ROUTING_CYCLIC_HUNT
    - SKILL_BASED_ROUTING_LEAST_WORKED_HUNT
  description: |
    Ring strategy:   
    Can be either:   
    - `RING_SIMULTANEOUSLY`: Ring all available members of the group simultaneously.
    - `PRIORITIZED_HUNT`: Ring each available member of the group serially in the configured order.
    - `CYCLIC_HUNT`: Ring each available member of the group serially, ring the member that hasn't been rung from a call from this group in the longest amount of time first.
    - `LEAST_WORKED_HUNT`: Ring each available member of the group serially, ring the member that hasn't answered a call from this group in the longest amount of time first.
    - `PAGING_INTERCOM`: Ring all available members of the group simultaneously and add an auto answer indication to the calls in order to invoke a page.
    - `SKILL_BASED_ROUTING_PRIORITIZED_HUNT`: The call assign to the agents in the level "1" skill group first,   
        and move on to the less experienced agents in subsequent skill groups, if the call is not answered in current skill group.   
        Ring each available member of the group serially in the configured order.
    - `SKILL_BASED_ROUTING_CYCLIC_HUNT`: The call assign to the agents in the level "1" skill group first,   
        and move on to the less experienced agents in subsequent skill groups, if the call is not answered in current skill group.   
        Ring each available member of the group serially, ring the member that hasn't been rung from a call from this group in the longest amount of time first.
    - `SKILL_BASED_ROUTING_LEAST_WORKED_HUNT`: The call assign to the agents in the level "1" skill group first,   
        and move on to the less experienced agents in subsequent skill groups, if the call is not answered in current skill group.   
        Ring each available member of the group serially, ring the member that hasn't answered a call from this group in the longest amount of time first.
skip_busy_member:
  type: boolean
  description: |
    Indicates if members on call would be skipped.
enable_paid:
  type: boolean
  default: true
  description: |
    Whether to add ring group information into `P-Asserted-Identity` header.
enable_prid:
  type: boolean
  default: true
  description: |
    Whether to add ring group information into `Remote-Party-ID` header.
extension_number_as_to_header:
  type: boolean
  default: false
  description: |
    Whether to user extension number as invite `To` header.
forward_rule_action:
  type: string
  enum:
    - FORWARD_TO_NUMBER
    - FORWARD_TO_VOICEMAIL
    - REPEAT
    - HANGUP
  description: |
    Forward actions includes:
    - `FORWARD_TO_NUMBER`:
    - `FORWARD_TO_VOICEMAIL`:
    - `REPEAT`:
    - `HANGUP`:
forward_rule_number:
  type: string
  description: |
    Specify the forwarding destination number.  
    Can be either:  
    - Extension number: The extension number of PortSIP PBX.
    - External number: The numeric sequence of numbers, with or without a plus sign at the beginning.
no_answer_forward_rule:
  type: object
  properties:
    action:
      $ref: "#/forward_rule_action"
    number:
      $ref: "#/forward_rule_number"
agent:
  type: object
  properties:
    extension_number:
      allOf:
        - $ref: "common.yaml#/extension_number"
      description: |
        The extension number of agent.
    display_name:
      allOf:
        - $ref: "user.yaml#/display_name"
      readOnly: true
      description: |
        The display name of agent.
    skill_level:
      type: integer
      format: int32
      minimum: 1
      maximum: 100
      default: 1
      description: |
        The skill level of agent in ring group.   
        Only valid when `ring_strategy` is skill based.
