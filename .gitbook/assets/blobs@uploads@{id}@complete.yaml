post:
  tags:
    - Blobs
  operationId: completeBlobUpload
  summary: Complete file upload
  description: |
    Complete the upload specified by unique ID, providing all the data in the body, if necessary.
    A request without a body will just complete the upload with previously uploaded content.
  parameters:
    - name: id
      in: path
      required: true
      schema:
        $ref: "../components/schemas/common.yaml#/uuid"
      description: The keyed UUID of the file upload.
    - name: PortSIP-Upload-Token
      in: header
      required: true
      schema:
        type: string
      description: |
        The upload token of file upload.
    - name: digest
      in: query
      schema:
        $ref: "../components/schemas/common.yaml#/digest"
      description: The digest of the file upload content.
  requestBody:
    content:
      application/octet-stream:
        schema:
          type: string
          format: binary
  responses:
    "201":
      description: Created
      content:
        application/json:
          schema:
            type: object
            properties:
              id:
                $ref: "../components/schemas/file.yaml#/id"
    "4XX":
      description: Error
