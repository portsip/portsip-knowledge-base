password:
  type: string
  description: |
    The password of system admin.
user_agent:
  type: string
  minLength: 1
  maxLength: 1024
  default: PortSIP UC
  description: |
    User agent.
blocked_user_agents:
  type: string
  description: |
    The semicolon separated list of blocked user agents.
enable_ipv6:
  type: boolean
  default: true
  description: |
    Indicates if IPv6 would be enabled.
enable_shared_address_space_address_range:
  type: boolean
  default: true
  description: |
    Enable Shared Address Space Address Range or not (RFC 6598).
enable_digest_auth:
  type: boolean
  default: true
  description: |
    Indicates if DIGEST authentication would be enabled.
enable_auth_mid_dialog:
  type: boolean
  default: false
  description: |
    Indicates if PortSIP PBX requires authentication against all subsequent
    requests originated from one calling.
enable_digest_auth_int:
  type: boolean
  default: false
  description: |
    Indicates if auth-int DIGEST authentication mode would be enabled.
enable_external_recording:
  type: boolean
  default: true
  description: |
    Allow external calls recording.
enable_reject_bad_nonce:
  type: boolean
  default: false
  description: |
    When a client sends a bad nonce in their credentials,
    return 403 message if this parameter is true, or send a new  challenge if this parameter is false.
statistics_log_interval:
  type: integer
  format: int32
  minimum: 0
  default: 600
  description: |
    Interval for statistics logs, in seconds.
dead_session_timeout:
  type: integer
  format: int32
  minimum: 0
  default: 600
  description: |
    Close the session if no RTP packets received within specified duration, in seconds.
enable_session_timer:
  type: boolean
  default: true
  description: |
    Indicates if session timer (RFC 4028) would be enabled. 
    This also requires client support.
session_timer_duration:
  type: integer
  format: int32
  minimum: 90
  maximum: 3600
  default: 3600
  description: |
    Duration recorded by Session timer.
    Precondition: "enable_session_timer" MUST be set to true.
enable_to_tag_in_register:
  type: boolean
  default: false
  description: |
    Indicates if "to" tag is allowed in REGISTER message.
enable_congestion_management:
  type: boolean
  default: true
  description: |
    Indicates if congestion management would be enabled.
congestion_management_metric:
  type: string
  enum:
    - WAIT_TIME
    - TIME_DEPTH
    - SIZE
  description: |
    Precondition: "enable_congestion_management" parameter MUST be set to true.
    The recommended is WAIT_TIME based on the expected wait time for each FIFO.
    - `WAIT_TIME`:
    - `TIME_DEPTH`:
    - `SIZE`:
congestion_management_tolerance:
  type: integer
  format: int32
  minimum: 0
  default: 600
  description: |
    Precondition: "enable_congestion_management" parameter MUST be set to true.
    Congestion management tolerance for the given metric.
    This parameter determines when the Rejection Behavior changes.
enable_create_non_exist_extension:
  type: boolean
  default: false
  description: |
    Indicates if the extension would be automatically created when a non-existent extension try to register.
    If it is set to true, when a non-included extension tries to send
    registry message to PBX, the PBX will create the extension with
    default password "portsip" automatically.
primary_dns_server:
  type: string
  description: |
    The primary DNS server.
secondary_dns_server:
  type: string
  description: |
    The secondary DNS server.
enable_prack:
  type: boolean
  default: false
  description: |
    Enable prack or not.
enable_tenant_level_trunk:
  type: boolean
  default: true
  description: |
    Whether to enable tenant-level trunk.
enable_diversion_support:
  type: boolean
  default: false
  description: |
    Enable Diversion support or not (RFC 5806).
enable_history_info_support:
  type: boolean
  default: false
  description: |
    Enable History-Info support (RFC 7044).
enable_outbound_support:
  type: boolean
  default: true
  description: |
    Enable Outbound Support or not (RFC 5626).
flow_timer:
  type: integer
  format: int32
  minimum: 0
  default: 0
  description: |
    The flow timer interval in seconds.
register_expiration_time:
  type: integer
  minimum: 90
  maximum: 3600
  default: 300
  description: |
    The register expiration time in seconds.
custom_options:
  type: string
  description: |
    Some custom configuration options serialized as json string.
interface:
  type: string
  enum:
    - WEB_DOMAIN
    - PUBLIC_IPV4
    - PUBLIC_IPV6
    - PRIVATE_IPV4
    - PRIVATE_IPV6
    - SBC_DOMAIN
  description: |
    The interface type for QR code or auto provisioning.   
    Can be neither:  
    - `WEB_DOMAIN`:
    - `PUBLIC_IPV4`:
    - `PUBLIC_IPV6`:
    - `PRIVATE_IPV4`:
    - `PRIVATE_IPV6`:
    - `SBC_DOMAIN`:
private_ipv4:
  type: string
  description: |
    The private IPv4 of system.
public_ipv4:
  type: string
  description: |
    The public IPv4 of system.
private_ipv6:
  type: string
  description: |
    The private IPv6 of system.
public_ipv6:
  type: string
  description: |
    The public IPv6 of system.
enable_auto_answer_alert_info_header:
  type: boolean
  default: false
  description: |
    Enable call-info header for auto answer or not.
auto_answer_alert_info_header:
  type: string
  enum:
    - INTERCOM
    - ALERT_AUTO_ANSWER
    - AUTO_ANSWER
  description: |
    Alert-info header to be added in INVITE message when PBX is forwarding the page/intercom.
    Values includes:
    - `INTERCOM`: info=intercom.
    - `ALERT_AUTO_ANSWER`: Alert-Info:;info=alert-autoanswer;delay=0.
    - `AUTO_ANSWER`: info=Auto Answer.
enable_auto_answer_call_info_header:
  type: boolean
  default: true
  description: |
    Enable call-info header for auto answer.
    The value is "sip:portsip.com;answer-after=0".
enable_require_answer_mode:
  type: boolean
  default: false
  description: |
    Enable Require Answer Mode (RFC 5373) for auto answer.
enable_www_auth:
  type: boolean
  default: false
  description: |
    Enable WWW authentication or not.
user_equal_required_for_auth_name:
  type: boolean
  default: true
  description: |
    User equal required for authentication name.
trace_server_host:
  type: string
  description: |
    Tracer server host.
trace_server_port:
  allOf:
    - $ref: "../../components/schemas/common.yaml#/port"
  description: |
    The tracer server port.
web_domain:
  type: string
  description: |
    The web domain for PortSIP PBX
web_failed_auth_amount:
  type: integer
  format: int32
  minimum: 0
  default: 5
  description: |
    Block if failed to login PortSIP PBX Web more than this times.
web_blacklist_time_interval:
  type: integer
  format: int32
  minimum: 0
  default: 3600
  description: |
    The web blocked time in seconds.
sip_failed_auth_amount:
  type: integer
  format: int32
  minimum: 0
  default: 50
  description: |
    The number of authentication failures.
sip_failed_challenge_requests_amount:
  type: integer
  format: int32
  minimum: 0
  default: 1000
  description: |
    DOS attacks can send REGISTER/INVITE requests but do not reply to Challenge (407).
    Configure the amount of "fake" requests that PortSIP PBX will accept per IP Address.
    If this value is exceeded in "Detection Period" interval the source IP address is put in the Blacklist.
    IP will remain blacklisted till "SIP Blacklist time interval" expires.
sip_blacklist_time_interval:
  type: integer
  format: int32
  minimum: 0
  default: 3600
  description: |
    The sip blocked time in seconds.
sip_detection_period:
  type: integer
  format: int32
  minimum: 0
  default: 10
  description: |
    The detection period in seconds.
sip_barrier_1_packets:
  type: integer
  format: int32
  minimum: 0
  default: 5000
  description: |
    If the amount of packets is exceeded, the PBX will block the source IP for "Level 1 blacklist time interval" seconds.
sip_barrier_1_blocking_time:
  type: integer
  format: int32
  minimum: 0
  default: 3600
  description: |
    This is the time interval in seconds that an abusive IP Address remains in the blacklist
sip_barrier_2_packets:
  type: integer
  format: int32
  minimum: 0
  default: 2000
  description: |
    If the amount of packets is exceeded, the PBX will block the source IP for "Level 2 blacklist time interval" seconds.
sip_barrier_2_blocking_time:
  type: integer
  format: int32
  minimum: 0
  default: 30
  description: |
    This is the time interval in seconds that an abusive IP Address remains in the blacklist
