id:
  allOf:
    - $ref: "../../components/schemas/common.yaml#/id"
  description: |
    The unique ID of outbound rule.
name:
  type: string
  minLength: 1
  maxLength: 64
  description: |
    The name of outbound rule.
priority:
  type: integer
  format: int32
  minimum: 0
  default: 1000
  description: |
    The priority of outbound rule.
number_prefix:
  type: string
  maxLength: 64
  description: |
    Prefix of callee ID. Calls started with this prefix will be applied this outbound rule.
number_length:
  type: string
  maxLength: 64
  description: |
    The length of number prefix.  
    A semicolon-separated list of integer.  
    For example by specifying "1;2", calls with a caller ID of 1 or 2 digits will be applied this rule.
number_mask:
  type: string
  description: |
    Extension who starts the call. A semicolon-separated list of extensions allowed.
    For example by specifying "101-110;199", extensions from 101 to 110 and 199 will be applied this rule.
enabled:
  type: boolean
  default: true
  description: |
    Whether to enable outbound rule.
routing_strategy:
  type: string
  enum:
    - PRIORITIZED
    - RANDOMLY
  default: PRIORITIZED
  description: |
    Routing strategy:   
    Can be either:  
    - `PRIORITIZED`: Selected according to the priority order of the route list.
    - `RANDOMLY`: Randomly select one of the route list.
routes:
  type: array
  items:
    type: object
    properties:
      enabled:
        type: boolean
        description: |
          Enable this route or not.
      provider_id:
        allOf:
          - $ref: "../../components/schemas/provider.yaml#/id"
        description: |
          The unique ID of provider.
      strip_digits:
        type: integer
        format: int32
        minimum: 0
        default: 0
        description: |
          Digits for striping number. Values: 0-9. 
          For example if it is set to 2, the first two digits for caller ID of calling from route_provider_1 will be removed.
      prepend:
        type: string
        description: |
          Prefix number. If it is set to "0086", call ID for calling from
          route_provider_1 will be prefixed with "0086".
      outbound_caller_id:
        allOf:
          - $ref: "../../components/schemas/provider.yaml#/outbound_caller_id"
        description: |
          The outbound caller ID within the trunk's DID/DDI pool scope.
